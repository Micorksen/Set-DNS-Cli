matrix:
  include:
    - os: osx
      osx_image: xcode12.2
      language: cpp
      
    - os: linux
      language: cpp
      
    - os: windows
      language: cpp

before_script:
  - mkdir obj
  - cd obj/ && mkdir src
  - cd src/ && mkdir headers

script:
  - g++ -Wall -fexceptions -O2 -I%CD%/src/headers -c %CD%/src/main.cpp -o %CD%/obj/src/main.o
  - g++ -Wall -fexceptions -O2 -I%CD%/src/headers -c %CD%/src/headers/colors.cpp -o %CD%/obj/src/headers/colors.o
  - g++ -Wall -fexceptions -O2 -I%CD%/src/headers -c %CD%/src/headers/config_reader.cpp -o %CD%/obj/src/headers/config_reader.o

branches:
  except:
    - "/^v\\d+\\.\\d+\\.\\d+$/"
